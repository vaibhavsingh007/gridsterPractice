<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <title>Gridster Practice App</title>
        <link rel="stylesheet" type="text/css" href="Resources/Styles/gridster.css">
        <script src="Scripts/jquery-1.7.1.min.js"></script>
        <script src="Scripts/jquery.gridster.js"></script>
        <!--<script src="Scripts/hook-gridster.js"></script>-->
        <script src="Scripts/ko-min.js"></script>
        <script src="Scripts/ko.mapping.js"></script>
        <script src="Scripts/configuration-handler.js"></script>
        <script type="text/javascript">
            $(document).ready(function () {
                bindPageVM();

                $(document).keyup(function(e) {
                    if (e.keyCode == 27) { 
                        hideConfigurationWindow();
                    }   // esc
                });
            });

        </script>
        <style>
            li {
            list-style: none;
            background: #e8e8e8;
            border: 1px solid #ccc;
            
            }
            
        </style>
    </head>
    <body>
        <p>Welcome to the Knockout & Gridster based Dashboard Builder!</p>
        <!--<a href="/testserialize.html">Serialization</a>
        <br />-->
        <button data-bind="click: addWidgetHandler">Add Widget</button>
        <button data-bind="click: dashboardSaveHandler">Save Dashboard</button>
                    <!--<button id="btnSerialize">Serialize Grid</button>
                    <button id="btnClearAll">Clear Grid</button>
                    <button id="btnLoadAll">Load grid from serialized data</button>-->
        <div class="gridster" style="width:960px; height: 600px;">
            <ul>

            </ul>
        </div>

        <div id="divConfiguration" style="display:none; width: 250px; position: absolute; top: 50%; left: 50%;
             margin-left:-125px;  margin-top: -50px; background: #fff; z-index: 9; padding: 10px;">
            <h3>-----Configure Widget------</h3>
            <div id="divConfigureWidget">
                <div>
                    Select VO: <select data-bind="options: voTypes,
                       optionsText: 'voName',
                       value: selectedVoId,
                       optionsCaption: 'Choose...'"></select>
            </div>
            <div data-bind="visible: selectedVoId">
                <!-- Appears when you select something -->
                Selected VO Type Id is  
                <span data-bind="text: selectedVoId() ? selectedVoId().voId : 'unknown'"></span>.
            </div>

                <p>subtitle: <input data-bind="value: widgetConfig.voConfig.subtitle" /></p>
                <p>legendshow: <input data-bind="value: widgetConfig.voConfig.legendshow" /></p>
                <p>legendpos: <input data-bind="value: widgetConfig.voConfig.legendpos" /></p>
                <p>sortseries: <input data-bind="value: widgetConfig.voConfig.sortseries" /></p>
                <p>areaGroup: <input data-bind="value: widgetConfig.voConfig.areaGroup" /></p>

            </div>

            <h3>-----Configure Data Source-----</h3>
            <div id="divConfigureData">

                Coming soon..
                <div id="divConfigureDataSource">

                </div>
            </div>

            <button data-bind="click: configSaveHandler">Done</button>
        </div>

        <div id="divMask" style="display:none; position: absolute; top: 0; bottom: 0; left: 0; right: 0; z-index:5; background: rgba(0,0,0,0.5)">
        </div>
    </body>
</html>
